<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSP 실기 문제은행 (파일 업로드 포함)</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="title-group">
          <h1>JSP 실기 문제은행 (파일 업로드 포함)</h1>
          <p class="meta-note">
            이 사이트는 JSP 실기 대비를 위한 코드-완성형 문제은행입니다. 정답 검증은 문자열/정규식
            기반이며 JSP 실행 없이 학습 포인트를 점검합니다.
          </p>
        </div>
        <div class="header-actions">
          <button id="toggleDarkMode" type="button" aria-pressed="false">다크 모드</button>
          <div class="import-export">
            <button id="exportProgress" type="button">진행 내보내기(JSON)</button>
            <label class="import-label">
              진행 불러오기(JSON)
              <input id="importProgress" type="file" accept="application/json" />
            </label>
          </div>
        </div>
      </header>

      <main class="app-main">
        <section id="listView" aria-label="문제 목록" class="list-view">
          <header class="list-intro">
            <div>
              <h2>JSP 실기 문제은행</h2>
              <p>요청 파라미터 처리부터 파일 업로드까지, 시험에 필요한 패턴을 빠르게 복습하세요.</p>
            </div>
            <div class="list-intro-actions">
              <p class="list-intro-meta">개념을 먼저 선택하고, 검색/필터로 원하는 문제를 바로 찾아볼 수 있습니다.</p>
              <a class="primary-link" href="methods.html">핵심 메서드 요약 바로가기</a>
            </div>
          </header>

          <section id="conceptNav" class="concept-nav" aria-label="개념 목차"></section>

          <div class="list-toolbar">
            <form id="controlsForm" class="controls" autocomplete="off">
              <div class="field">
                <label for="searchInput">검색</label>
                <input id="searchInput" name="search" type="search" placeholder="키워드로 검색" />
              </div>

              <div class="field">
                <label for="difficultyFilter">난이도</label>
                <select id="difficultyFilter" name="difficulty">
                  <option value="all">전체</option>
                  <option value="초급">초급</option>
                  <option value="중급">중급</option>
                  <option value="고급">고급</option>
                </select>
              </div>

              <div class="field">
                <label for="tagFilter">태그</label>
                <select id="tagFilter" name="tag">
                  <option value="all">전체</option>
                <option value="request">request</option>
                <option value="enum">enum</option>
                <option value="upload">upload</option>
                <option value="cos">cos</option>
                <option value="commons">commons</option>
                <option value="directive">directive</option>
                <option value="page">page</option>
                <option value="encoding">encoding</option>
                <option value="dispatcher">dispatcher</option>
                <option value="forward">forward</option>
                <option value="session">session</option>
                <option value="state">state</option>
                <option value="validation">validation</option>
              </select>
            </div>

              <div class="field">
                <label for="sortSelect">정렬</label>
                <select id="sortSelect" name="sort">
                  <option value="difficulty">난이도</option>
                  <option value="recent">최근 시도</option>
                  <option value="accuracy">정답률</option>
                </select>
              </div>
            </form>

            <section id="statsPanel" class="stats-panel" aria-live="polite"></section>
          </div>

          <section id="problemsList" class="problems-list" aria-live="polite"></section>
        </section>

        <section id="detailView" aria-label="문제 상세" hidden>
          <button id="backToList" class="back-button" type="button">← 목록으로</button>
          <article class="problem-detail">
            <header class="detail-header">
              <div>
                <h2 id="detailTitle"></h2>
                <p id="detailMeta" class="detail-meta"></p>
              </div>
              <div class="detail-tags" id="detailTags"></div>
            </header>

            <section class="problem-description">
              <h3>문제 설명</h3>
              <div id="detailDescription" class="detail-description"></div>
            </section>

            <section class="problem-starter">
              <div class="section-heading">
                <h3>Starter Code</h3>
                <button id="resetCode" type="button">초기화</button>
              </div>
              <div class="code-wrapper">
                <div class="line-numbers" aria-hidden="true"></div>
                <textarea id="codeEditor" spellcheck="false" aria-label="코드 편집 영역"></textarea>
              </div>
              <p class="helper-text">Ctrl/Cmd + Enter: 채점 · Ctrl/Cmd + / : 힌트 토글</p>
            </section>

            <section class="problem-actions">
              <button id="runTests" type="button" class="primary">채점하기</button>
              <button id="toggleHint" type="button">힌트보기</button>
              <button id="toggleSolution" type="button">해설보기</button>
              <button id="nextProblem" type="button">다음 문제</button>
            </section>

            <section class="problem-feedback">
              <h3>채점 결과</h3>
              <div id="resultSummary" class="result-summary" aria-live="polite"></div>
              <table class="result-table">
                <thead>
                  <tr>
                    <th scope="col">검증 항목</th>
                    <th scope="col">결과</th>
                  </tr>
                </thead>
                <tbody id="resultDetails"></tbody>
              </table>
            </section>

            <section class="problem-hint" id="hintSection" hidden>
              <h3>힌트</h3>
              <p id="hintContent"></p>
            </section>

            <section class="problem-solution" id="solutionSection" hidden>
              <h3>정답 및 해설</h3>
              <pre><code id="solutionCode"></code></pre>
              <p id="solutionExplanation" class="solution-explanation"></p>
            </section>
          </article>
        </section>
      </main>
    </div>

    <script src="problems.js"></script>
    <script src="app.js"></script>
  </body>
</html>
